# IAM Service Configuration
# Copy this file to .env and modify as needed
# Скопируйте этот файл в .env и измените по необходимости

# =============================================================================
# Server / Сервер
# =============================================================================
SERVER_PORT=8080

# =============================================================================
# Logging / Логирование
# =============================================================================
LOG_LEVEL=info          # debug, info, warn, error
LOG_FORMAT=json         # json, text

# =============================================================================
# Database (PostgreSQL) / База данных (PostgreSQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=iam_user
DB_PASSWORD=iam_password
DB_NAME=iam_db
DB_SSLMODE=disable      # disable, require, verify-ca, verify-full

# =============================================================================
# Redis
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# JWT Configuration / Конфигурация JWT
# =============================================================================
JWT_SECRET=your-secret-key-change-in-production
JWT_ACCESS_TOKEN_TTL=15         # Access token TTL in minutes / TTL access токена в минутах
JWT_REFRESH_TOKEN_TTL=7         # Refresh token TTL in days / TTL refresh токена в днях
JWT_PRIVATE_KEY_PATH=configs/keys/private.pem
JWT_PUBLIC_KEY_PATH=configs/keys/public.pem

# =============================================================================
# Casbin RBAC / Casbin RBAC
# =============================================================================
CASBIN_MODEL_PATH=configs/casbin_model.conf

# =============================================================================
# Account Lockout / Блокировка аккаунта
# =============================================================================
LOCKOUT_MAX_ATTEMPTS=5          # Max failed login attempts / Макс. неудачных попыток входа
LOCKOUT_DURATION_MINUTES=15     # Lockout duration / Длительность блокировки

# =============================================================================
# Password Policy / Политика паролей
# =============================================================================
PASSWORD_MAX_AGE_DAYS=90        # Password expiration in days (0 = no expiration) / Срок действия пароля в днях

# =============================================================================
# OpenTelemetry / OpenTelemetry
# =============================================================================
OTEL_ENABLED=false
OTEL_ENDPOINT=localhost:4317
OTEL_SERVICE_NAME=iam-service
OTEL_ENVIRONMENT=development    # development, staging, production

# =============================================================================
# Development Mode / Режим разработки
# =============================================================================
# In dev mode, RSA keys are auto-generated if not found
# В режиме разработки RSA ключи генерируются автоматически, если не найдены
DEV_MODE=true
